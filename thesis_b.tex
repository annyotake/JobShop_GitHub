\documentclass[a4paper,12pt,twoside]{jreport}
\usepackage[T1]{fontenc} % Use T1 encoding (8bit font encoding)
\usepackage{lmodern} % Use Latin Modern (LM) font
%\usepackage[dvips]{graphicx}
\usepackage[dvipdfmx]{graphicx}
\usepackage{url}
\usepackage{kit-is-b}
\usepackage{amsmath}
\author{竹下　拓希}
\idnumber{22122031}
\deadline{2026}{2}{13} % 提出日{西暦年}{月}{日}
%% 長いタイトルで途中改行する場合，改行したい位置で
%% \coverbreak, \abstbreak, \\ のいずれかを使う．
%%   \coverbreak ：表紙でのみこの位置で改行
%%    \abstbreak ：概要でのみこの位置で改行
%%            \\ ：表紙・概要ともにこの位置で改行
%%【例】
%% \title{長い長いタイトル\coverbreak の改行位置\abstbreak に関する研究}
\title{作業者の希望に沿ってシフトを決定する \coverbreak\abstbreak ジョブショップスケジューリング}
%% 以下，指導教員名の前の数字は職名を表す（順序ではない）
%% 1:教授，2:准教授，3:講師，4:助教，5:助手，
%% 6:特任教授，7:特任准教授，8:特任講師，9:特任助教，
%% 10:特定教授，11:特定准教授，12:特定講師，13:特定助教
\advisor{2}{飯間　等} % 指導教員（工繊一郎教授）
%\secondadvisor{2}{情報　次郎} % （必要ならば）指導教員（情報次郎准教授）
%\thirdadvisor{4}{情報　三郎} % （必要ならば）指導教員（情報三郎助教）
\begin{document}
\maketitle

%%
%% 和文概要
%%
\begin{abstract}

\end{abstract}

\begin{contents}
\tableofcontents % 目次の作成
%\nchapter{記号・略語一覧} % 必要ならば
%% ここに記号説明を書く
\end{contents}

\chapter{緒言}
生産技術の高度化と複合化により，生産システムはより複雑となり，
そのシステムにおける最適なスケジュールを求めることや 
それに関わる作業者のシフトを最適に割り当てることが難しくなっている．
このような計画を立てるために，組合せ最適化問題として
定式化するスケジューリング問題が取り上げられる．
この問題は電子産業\cite{Y221}や航空宇宙分野\cite{Y229}などの
様々な分野で応用されており，
NP困難問題\cite{Y765}とされている．
このスケジューリング問題を解くことで，生産現場において，
機械などの資源に対し，ジョブ（仕事）を最も効率よく割り当てるために，
どのジョブをどの時間・順番で行うべきかを求めることができる．
スケジューリング問題には様々な種類があるが，その中でも
フレキシブルジョブショップスケジューリング問題（Flexible Job-shop Scheduling Problem, FJSP）\cite{Y165}は
各工程での機械が複数台となっている複雑な問題である．
また，このFJSPに対して，作業間の順序制約\cite{Y219}\cite{Y201}，
ジョブの優先度\cite{Y178}，資源制約\cite{Y070}\cite{Y162}，
機械および作業者の柔軟性\cite{Y182}\cite{Y217}，
メンテナンスなどの資源の利用不可期間\cite{Y163}\cite{Y2212}など，
様々な制約が考慮される研究が行われている．
そして，作業者のシフトを調整する研究もいくつかある\cite{Y2212}\cite{Y225}．

また，関連研究\cite{Y241}では，
作業間の順序制約，ジョブの優先度，資源制約，機械および作業者の柔軟性， 
メンテナンスなどの資源の利用不可期間といった制約を考慮したFJSPにおいて，
機械と作業者の２つの資源で構成され，
各作業が機械と作業者を必要とする作業と作業者のみを必要とする作業で行われる生産現場を対象とし，
実際の生産現場に近い問題設定となっている．
そして，ジョブを優先度の高いジョブ（HPジョブ）と優先度の低いジョブ（LPジョブ）に分け，
HPジョブは納期内に完了させ，
LPジョブは納期からの遅延日数を最小化している．
作業者のシフトのスケジューリングでは，
HPジョブが納期内に完了しない場合の作業者の残業時間を最小化することを目的としている．
また，この問題に対する解法として，
差分進化（Diffferential Evolution, DE）\cite{Y214}を用いて，
２段階でスケジューリングを行う解法を提案している．
しかし，この研究では作業者の希望を考慮してスケジューリングを行っておらず，
作業者はどのシフトを割り当てられても，そのシフトで作業をしなければならない．
現在は働き方の多様化などで，
作業者は限られたシフトのみを希望することが多くなっており，
そのような要求を考慮するスケジューリングが求められている．

本研究では，上記の先行研究を基に，
作業者の希望も考慮したシフトと生産スケジュールを作成する最適化法を提案する．
（シフトの希望に沿ってシフトを決定するアルゴリズムの簡単な説明）

本報告書の構成について述べる．
第２章では，本研究で用いるDEを，
第３章では，先行研究を概観する．
第４章では，本研究で対象とするFJSPを定義する．
第５章では，第４章で定義した問題に対する提案解法について説明する．
第６章では，第５章での解法を問題例に適用した結果とその考察について述べる．
第７章では，本研究の結論とそれを踏まえた今後の展望について述べる．

\chapter{差分進化}
\section{概要}
DEは1995年にStornとPriceによって提案された
実数空間における最適化アルゴリズムであり\cite{Y2012}，
遺伝的アルゴリズム（Genetic Algorithm, GA）などの
進化的アルゴリズム（Evolutionary Algorithm, EA）の１つである．
DEは集団サイズ$NP$，スケーリングファクター$SF$，交叉率$CR$の
３つのパラメータを用いて，
突然変異，交叉，選択の３つの操作を行う
比較的単純で効率的なアルゴリズムとなっている．
そのため，様々な最適化問題に適用されており，
スケジューリングに関する研究においても 
DEを用いた解法が利用されている\cite{Y122}\cite{Y2012}\cite{Y226}\cite{Y213}\cite{Y971}．

DEにはDE/rand/1/binやDE/rand to best/1/bin，DE/best/2/binなどの
いくつかの形式があり，各形式では突然変異の手法が異なる．
これらの形式はDE/$base$/$num$/$cross$という記法で表現される．
$base$は基本ベクトルとなる親の選択方法を指定する．
$num$は基本ベクトルを変異させるための差分ベクトルの個数を指定する．
$cross$は子を生成するために使用する交叉方法を指定する．
本研究ではDE/rand to best/1/binを用いる．

\section{アルゴリズム}
本研究で用いるDE/rand to best/1/binのアルゴリズムについて述べる．

\begin{description}
	\item[Step0] 初期化：$NP$個の初期個体$x_k (k = 1,2,\cdots,NP)$を探索空間$S$内に生成し，
	             個体群$P = \{x_1,x_2,\cdots,x_{NP}\}$を構成する．
							 世代を$G = 1$とする．
	\item[Step1] 突然変異：世代$G$の個体群$P$における親個体$x^G_k$に対して，
	             個体群$P$から２個体$x^G_{r1}$, $x^G_{r2}$を$x^G_k$および互いに重複しないようにランダムに選択する．
							 また，最良個体$x^G_{best}$を選択する．
							 そして，基本ベクトル$x^G_k$および差分ベクトル$x^G_{best}-x^G_k$, $x^G_{r1}-x^G_{r2}$から変異ベクトル$v^{G+1}_k$を
							 以下の式(2.1)に基づいて生成する．
							 \begin{equation}
							 v^{G+1}_k = x^G_k + SF(x^G_{best} - x^G_k) + SF(x^G_{r1}-x^G_{r2})
							 \end{equation}
	\item[Step2] 交叉：変異ベクトル$v^{G+1}_k$と親個体$x^G_k$を交叉し，子個体$u^{G+1}_k$を生成する．
	             このとき，以下の式(2.2)に基づいて交叉を行う．
							 \begin{equation}
							 u^{G+1}_{kl} = 
							  \begin{cases}
							   v^{G+1}_{kl} & \text{if $rand \leq CR$} \\
								 x^G_{kl}     & \text{otherwise}
							  \end{cases}
							 \end{equation}
							 $u^{G+1}_{kl}$，$v^{G+1}_{kl}$，$x^G_{kl}$は
							 それぞれ$u^{G+1}_k$，$v^{G+1}_k$，$x^G_k$の
							 $l$番目の要素である．
							 また，$rand$は０から１までの乱数である．
	\item[Step3] 選択：子個体$u^{G+1}_k$を評価し，
	             子個体$u^{G+1}_k$が親個体$x^G_k$よりも良い場合，
							 次世代$G\!+\!1$における個体$x^{G+1}_k$を子個体$u^{G+1}_k$とする．
							 そうでない場合，個体$x^{G+1}_k$を親個体$x^G_k$のままにする．
	\item[Step4] 終了判定：終了条件を満たしている場合，アルゴリズムを終了する．
	             満たしていない場合，Step1に戻る．
\end{description}


\chapter{先行研究}
本研究に関連する先行研究\cite{Y241}では，１章で述べたとおり，
機械と作業者の２つの資源で構成され，
各仕事が機械と作業者を必要とする作業と作業者のみを必要とする作業で行われる生産現場を対象とし，
作業間の順序制約，資源制約，機械および作業者の柔軟性，
メンテナンスなどの資源の利用不可期間といった制約を考慮したFJSPを扱う．
また，このFJSPのジョブには優先度が設けられており，
各ジョブが高優先度のHPジョブと低優先度のLPジョブに分けられている．
このFJSPに対する解法として，
Improved two-stage Differential Evolution algorithm（IDE）が提案されており，
この解法により，LPジョブの納期からの遅延日数を最小化するとともに，
HPジョブは納期内に完了させ，
作業者のシフトはHPジョブが納期内に完了しない場合の
作業者の残業時間を最小化するようスケジューリングを行うことが可能である．
また，この解法は計算効率を向上させるため，２段階で構成されている．

第１段階では，全作業者の１日のシフトを８時間（標準シフト）とし，
生産システムにおけるスケジューリングに焦点を当てる．
このスケジューリングでは，
HPジョブおよびLPジョブが納期内に完了しない可能性があるが，
作業者は残業を行わないものとする．
HPジョブが納期内に完了しない場合は
その納期からの遅延期間にペナルティ係数$H$を乗じた数値を目的関数$F$に加える．
また，このスケジューリングではDEが用いられており，
このDEによって最良個体（最良のスケジュール）を得る．

第２段階では，第１段階で得た個体（スケジュール）において，
作業者の標準シフトでは
HPジョブが納期内に完了しない場合，
HPジョブが納期内に完了するよう作業者のシフトを調整する．
このとき，LPジョブを担当する作業者に不要な残業が発生する可能性があるため，
LPジョブを担当する作業者が残業を行う場合，
その残業日数にペナルティ係数$H$を乗じた数値を目的関数に$F$に加える．

このIDEに対して行った実験では，他の解法と比較した結果が報告されている．
ここでIDEと比較した解法は，DE，GA，
粒子群最適化（Particle Swarm Optimization, PSO），
Jayaアルゴリズムである．
実行時間に関しては，IDE以外の解法が優れているが，
目的関数値に関しては，IDEによって得られた値の方が小さいことがほとんどであり，
IDEが優れていることが報告されている．

\chapter{問題設定}
\begin{table}[htb]
\centering
  \caption{各用語の意味と説明}
  \begin{tabular}{lll}  \hline
    用語 & 意味 & 説明 \\ \hline
    $j$ & ジョブの番号 & $j \in J = \{1,2,\cdots,N_j\}$であり，\\
		    &             & $N_j$はジョブの数を表す．\\ \hline
		$i$ & 各ジョブにおける作業の番号 & $i \in I = \{1,2,\cdots,N_{ji}\}$であり，\\
		    &                          & $N_{ji}$はジョブ$j$の作業の数を表す．\\ \hline
		$w$ & 作業者の番号 & $w \in W = \{1,2,\cdots,N_w\}$であり，\\
		    &             & $N_w$は作業者の人数を表す．\\ \hline
		$m$ & 機械の番号 & $m \in M = \{1,2,\cdots,N_m\}$であり，\\
		    &           & $N_m$は機械の人数を表す．\\ \hline
		$d$ & 日付 & $d \in D = \{1,2,\cdots,N_d\}$であり，\\
		    &      & $N_d$は日数を表す．\\ \hline
		$\tau$ & 作業の種類 & $\tau \in \{0, 1\}$であり，\\
		       &           & $\tau = 0$の場合，作業者のみを必要とする作業を，\\
					 &           & $\tau = 1$の場合，機械と作業者を必要とする作業を表す．\\ \hline
		$\sigma$ & 標準シフトの分数 & $\sigma = 8 \times 60 = 480$とする． \\ \hline
		$H$ & ペナルティ係数 & $H = 10^4$とする．\\ \hline
		
  \end{tabular}
\end{table}


\chapter{提案解法}

\chapter{実験結果と考察}

\chapter{結言}


\acknowledgement % 謝辞
本研究を行うにあたり，研究課題の設定や研究に対する姿勢，本報告書の作成に
至るまで，全ての面で丁寧なご指導を頂きました，本学情報工学・人間科学系 
工繊一郎教授に厚く御礼申し上げます．
貴重なデータをご提供頂きました，○○大学○○学部 ○○○○教授に深く
感謝致します．
本報告書執筆にあたり貴重な助言を多数頂きました，本学情報工学専攻
 ○○○○先輩，○○○○先輩，情報工学課程 ○○○○君，○○○○君を
はじめとする，○○研究室の皆さん，学生生活を通じて著者の支えとなった
家族や友人に深く感謝致します．

% 参考文献
\bibliographystyle{kit-is} % 文献スタイルファイル
\bibliography{sample_b} % 文献データベース

\appendix % 付録
\chapter{}

\end{document}

